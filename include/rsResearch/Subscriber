#ifndef RSRESEARCH_SUBSCRIBER_
#define RSRESEARCH_SUBSCRIBER_

#include <string>

#include <rs/Macros>

namespace rsResearch {

	// class
	class LIBRSEXPORT Subscriber {
		// public functions
		public:
			Subscriber(std::string, std::string, short, short);
			virtual ~Subscriber(void);

			float getAngle(void);
			unsigned int getTime(void);

			float getV(void);
			float getR(void);
			float getPhi(void);
			
			void receive(void);

		// private data
		private:
			void *_context;			// zmq context
			void *_socket;			// zmq socket

			short _filter;			// filter id
			short _filter_size;		// size of filter string
			short _id;				// id of this robot

			float _angle;			// angle for this robot
			unsigned int _time;		// timestamp for angle

			float _v;				// cpg body frequency
			float _r;				// cpg body amplitude
			float _phi;				// cpg phase shift
	};

} // namespace rsResearch

#endif // RSRESEARCH_SUBSCRIBER_

